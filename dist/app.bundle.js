(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}e(t,"dom",{modalbg:document.querySelector(".bground"),modalBtn:document.querySelectorAll(".modal-btn"),closeBtn:document.querySelector(".close"),closeConfirm:document.querySelector(".close-confirm"),modalConfirm:document.querySelector(".confirm-modal"),form:document.getElementsByName("reserve")[0]}),e(t,"launchModalEvent",(function(){t.dom.modalBtn.forEach((function(e){return e.addEventListener("click",t.launchModal)})),t.dom.closeBtn.addEventListener("click",t.closeModal),t.dom.closeBtn.addEventListener("click",t.closeConfirm),t.dom.closeConfirm.addEventListener("click",t.closeConfirm)})),e(t,"launchModal",(function(){return t.dom.modalbg.style.display="block"})),e(t,"closeModal",(function(){return t.dom.modalbg.style.display="none"})),e(t,"closeConfirm",(function(){t.closeModal(),t.dom.form.style.display="block",t.dom.modalConfirm.style.display="none",t.dom.modalConfirm.classList.remove("confirm-message")})),e(t,"validation",(function(){t.dom.form.style.display="none",t.dom.modalConfirm.style.display="block",t.dom.modalConfirm.classList.add("confirm-message")}));var o=new WeakMap,l={firstName:{element:document.getElementById("first"),validationType:"name",invalidMessage:"Veuillez entrer 2 caractères ou plus pour le champ du prénom."},lastName:{element:document.getElementById("last"),validationType:"name",invalidMessage:"Veuillez entrer 2 caractères ou plus pour le champ du nom."},email:{element:document.getElementById("email"),validationType:"email",invalidMessage:"Veuillez entrer une adresse mail valide."},birthdate:{element:document.getElementById("birthdate"),validationType:"date",invalidMessage:"Vous devez entrer votre date de naissance."},quantity:{element:document.getElementById("quantity"),validationType:"number",invalidMessage:"Veuillez entrer un nombre."},location:{element:document.querySelectorAll('input[name="location"]'),validationType:"radio",invalidMessage:"Veuillez selectionner une ville."},checkbox:{element:document.getElementById("checkbox1"),validationType:"checkbox",invalidMessage:"Vous devez vérifier que vous acceptez les termes et conditions."}},r=document.querySelectorAll(".formData");window.editNav=function(){var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"},t.launchModalEvent();var d=new function e(t,l){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.set(this,{writable:!0,value:!0}),a(this,"getFormValid",(function(){return function(e,t){return t.get?t.get.call(e):t.value}(e=r,i(e,o,"get"));var e})),a(this,"setFormValid",(function(e){return n=e,function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(t=r,i(t,o,"set"),n),n;var t,n})),a(this,"nameValidation",(function(e){return null!==e.value&&e.value.length>=2})),a(this,"emailValidation",(function(e){return/^([a-z0-9_\.-]+\@[\da-z\.-]+\.[a-z\.]{2,6})$/.test(e.value)})),a(this,"numberValidation",(function(e){return/^[0-9]+$/.test(e.value)})),a(this,"radioValidation",(function(e){var t,a=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,d=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){d=!0,l=e},f:function(){try{r||null==a.return||a.return()}finally{if(d)throw l}}}}(e);try{for(a.s();!(t=a.n()).done;)if(t.value.checked)return!0}catch(e){a.e(e)}finally{a.f()}})),a(this,"checkboxValidation",(function(e){return e.checked})),a(this,"dateValidation",(function(e){return""!=e.value})),a(this,"resetValidation",(function(){r.setFormValid(!0),Array.from(r.fieldContainer).map((function(e){e.dataset.errorVisible=!1}))})),a(this,"invalidInputStyle",(function(e,t){e.parentNode.setAttribute("data-error-visible",!0),e.parentNode.setAttribute("data-error",t)})),a(this,"launchValidation",(function(){for(var e in r.resetValidation(),r.formFields)switch(r.formFields[e].validationType){case"name":r.nameValidation(r.formFields[e].element)||(r.invalidInputStyle(r.formFields[e].element,r.formFields[e].invalidMessage),r.setFormValid(!1));break;case"email":r.emailValidation(r.formFields[e].element)||(r.invalidInputStyle(r.formFields[e].element,r.formFields[e].invalidMessage),r.setFormValid(!1));break;case"number":r.numberValidation(r.formFields[e].element)||(r.invalidInputStyle(r.formFields[e].element,r.formFields[e].invalidMessage),r.setFormValid(!1));break;case"radio":r.radioValidation(r.formFields[e].element)||(r.invalidInputStyle(r.formFields[e].element[0],r.formFields[e].invalidMessage),r.setFormValid(!1));break;case"checkbox":r.checkboxValidation(r.formFields[e].element)||(r.invalidInputStyle(r.formFields[e].element,r.formFields[e].invalidMessage),r.setFormValid(!1));break;case"date":r.dateValidation(r.formFields[e].element)||(r.invalidInputStyle(r.formFields[e].element,r.formFields[e].invalidMessage),r.setFormValid(!1))}return r.getFormValid()})),this.fieldContainer=t,this.formFields=l}(r,l),s=document.getElementsByName("reserve")[0];s.onsubmit=function(e){console.log("toto"),e.preventDefault();var n={};Object.keys(l).forEach((function(e){var t=l[e].element.target.value;n[e]=t})),console.log(n),d.launchValidation()&&(s.reset(),t.validation())}})();
//# sourceMappingURL=app.js.map